<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Successful Order</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="order.css" />
</head>

<body>
<th:block th:include="blocks/menu" />
<div th:if="${ticket == null}">
    Choose a route first, please: <a th:href="@{/departures}">Choose a route</a>
</div>
<div th:if="${ticket != null}" class="order">
    <h3>Payment was successful!</h3>
    <h3>Your ticket: </h3>
    <p>Train:</p>
    <span th:utext="${ticket.departure.train.number}" />
    <span th:switch="${ticket.departure.route.type}">
                <span th:case="'regional'">Региональные линии</span>
                <span th:case="'interregional'">Межрегиональные линии</span>
                <span th:case="'international'">Международные линии</span>
            </span>
    <span th:utext="${ticket.departure.stationSchedules[0].station.title} + ' &mdash; '" />
    <span th:utext="${ticket.departure.stationSchedules[ticket.departure.stationSchedules.size()-1].station.title}" />
    <p>Departure Station:</p>
    <span th:utext="${ticket.userDepartureStation.title}" />
    <p>Departure Date:</p>
    <span th:utext="${#temporals.format(ticket.userDepartureDate, 'dd MMM HH:mm')}" />
    <p>Arrival Station:</p>
    <span th:utext="${ticket.userArrivalStation.title}" />
    <p>Arrival Date:</p>
    <span th:utext="${#temporals.format(ticket.userArrivalDate, 'dd MMM HH:mm')}" />
    <p>Carriage Number:</p>
    <span th:utext="${ticket.carriageNumber != null} ? ${ticket.carriageNumber} : '&mdash;'" />
    <p>Seat Number:</p>
    <span th:utext="${ticket.seatNumber != null} ? ${ticket.seatNumber} : '&mdash;'" />
    <p>Ticket price: </p>
    <p th:utext="${ticket.price / 100} + ',' + ${ticket.price % 100} + ' BYN'"></p>
</div>

</body>

</html>